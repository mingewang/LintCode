### 1488.Longest-Sequence

对于等差数列的题目,我们常用的方法是用末位两位元素来唯一确定一个数列.令DP[i][j]表示以元素i,j结尾的等差数列的长度,那么显然如果能找到一个索引k,使得A[i]*2==A[k]+A[j]的话,就可以有DP[i][j]=DP[i][k]+1

那么如何查找到k呢?我们不需要用一个hash表根据A[k]的值来对应k.此题不要求固定元素在数组里的位置,可以提前排序.对于一个有序数列要查找等差数列,总会有更便利的条件.这里就用到了双指针的思想.

我们固定了i之后,就可以以i为中心,左右指针往两边推进,用o(n)时间找到所有A[left]+A[right]==A[i]*2的组合,这样就可以一遍更新完所有的DP[i][right],避免了显示地遍历right.
